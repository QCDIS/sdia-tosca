tosca_definitions_version: "tosca_simple_yaml_1_0"
topology_template:
  node_templates:
    compute:
      properties:
        disk_size: "10000 MB"
        mem_size: "1000 MB"
        num_cores: 1.0
        os_distro: Ubuntu
        os_version: 18.04
        user_name: "vm_user"
      interfaces:
        Standard:
          create: "dumy.yaml"
      type: "tosca.nodes.QC.VM.Compute"
      attributes:
        user_key_pair:
          protocol: "ssh"
          keys:
            public_key: "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FDUkM3QVBBZHN0NlpMeE9XSUQ5dE83cXlRYnVKMm04OVQ2akhpbDlJaWdqSEdLaEE0SkpkRmpKZ3FBbWVwZXMvZXRaZVBLODM5aExtVXlnT0ZrWEMwT2oxR0RSekY4SUpWUStZMlcwaHllOFA0SWFpelZwWFNTNXJVaHIxS2prcU51SitEZGwzNE5vazNNRnRXTVQ3cTh4MnNOaERETDNiTUw5eTY0RGJCTDB4aUJ2Y2dLdGNHODVZamxBclFXTDlVd01JaC94aVlkRUxDVUZqV3BFYkNxUnRFVjF0RFFta1J2TTVxSmZTaEFHTERRb01RT21tK1ZXSC9VSitWOERmYmJFNFhZdXNxMXZsa3BicDhKdzdTc29vYmtZVDJEaUhsMlFFa0VLSThEZkNpNmtLS3lDd3ZuMHRCcWRDS1BCWWEveWY1RVVhbnJoc1VSc0JMWUcrRDJUd3VoWXBEcmEzVHUxSm1NSm5DNHc0UFZZSmlBbmFSR1BSdzErT0ZrUWxWNkZ4RXBpVlFudDgwTkhKL0tNdTMrSnhXZG8yWWVVQUJwVlZRRldUY1o0MTBiNE5NSUhjUS9GVGpCcUxRZ0U3TkRuazVUcnhGaTN5NGY1Tk1YeUU3elpCMXBJM2dCcDVPUUpqdU9iNXI2Z0ViTHRPTXlCTGJZVXFLS1VtZnBtTlU9Cg=="
            private_key: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQ0KTUlJRzRnSUJBQUtDQVlFQWtRdXdEd0hiTGVtUzhUbGlBL2JUdTZza0c3aWRwdlBVK294NHBmU0lvSXh4aW9RTw0KQ1NYUll5WUtnSm5xWHJQM3JXWGp5dk4vWVM1bE1vRGhaRnd0RG85UmcwY3hmQ0NWVVBtTmx0SWNudkQrQ0dvcw0KMWFWMGt1YTFJYTlTbzVLamJpZmczWmQrRGFKTnpCYlZqRSs2dk1kckRZUXd5OTJ6Qy9jdXVBMndTOU1ZZ2IzSQ0KQ3JYQnZPV0k1UUswRmkvVk1EQ0lmOFltSFJDd2xCWTFxUkd3cWtiUkZkYlEwSnBFYnpPYWlYMG9RQml3MEtERQ0KRHBwdmxWaC8xQ2ZsZkEzMjJ4T0YyTHJLdGI1WktXNmZDY08wcktLRzVHRTlnNGg1ZGtCSkJDaVBBM3dvdXBDaQ0Kc2dzTDU5TFFhblFpandXR3Y4bitSRkdwNjRiRkViQVMyQnZnOWs4TG9XS1E2MnQwN3RTWmpDWnd1TU9EMVdDWQ0KZ0oya1JqMGNOZmpoWkVKVmVoY1JLWWxVSjdmTkRSeWZ5akx0L2ljVm5hTm1IbEFBYVZWVUJWazNHZU5kRytEVA0KQ0IzRVB4VTR3YWkwSUJPelE1NU9VNjhSWXQ4dUgrVFRGOGhPODJRZGFTTjRBYWVUa0NZN2ptK2Erb0JHeTdUag0KTWdTMjJGS2lpbEpuNlpqVkFnTUJBQUVDZ2dHQUE3L2Z3OERpWFJ2NkpVdm5TWlNkREVTKzBMYWppMWduUzg0Zw0KejZMSmUyT3JZR1RNaGhaWkJOZjJ2VFNvREloWXkraU9qSEJoL1JoT3htWklMVk45V0xDQ0doalhqSGxuMHI3ag0KYkVyWjNEbFNTbjVsZlUrNGVwUmJOSzAzRk5mQUZpTm9HbzBGZ0Zoa2xzbzAvVnBtOHpxeEo1bDJETXh2aWZkNw0KQTRnRnVZSzhwMGRKZjJRTHg1UjVjYU54d0t4bzRFVGVQOHRXc0k2b3VlaWZFaWxORTFjZSt1ZTI0SVdmRDVtRg0KRWxra0ZyckNBTFZVakNUQzQxaWYwLzRFczljYWlMenBDRjVUSW9MQWZ3dFFSbjdYOHNNbUZCV1ZMU3BIQnBlMw0KVGZCdXRhd1dSc2tPM2s0RlBYVVVDMkpMTnQwbHhXMUQ5V25qU0djLy9DQmErTnRrKzVYMUc4MmpEQVJWbW5NTQ0KaDMxUnlpbGRneUh4MXE2enlWTCs3RTJpVm05OEMwOXJqb3lNSGdOY0EzK2hNRFhCNjNtY1plRDI4amFZWXhvNw0KYWQxSTBQMUNxTUtBZ044SVBOWjNJQVQveFJkZVFhUG9tZTdNWGFvcXVCd2Vld1RNeWJuS25WT2RZWks2TTNUTA0KK1JWdjI2NVpCSmIzR1dlN1lwNVU1MW5EV2s3TEFvSEJBTXNya055OHdKYzgreFJFU2k0L3RDZ2lRYlFLQXhjRQ0KdEpIWXBRbnRNQWZTY242b3BPNS9Qc2MzN0JhdVp5bTJTSUJLWDdXR3ZUV04wRy9QNkxmQ0QySGlCN20zOERBRw0KNWNDSjFQakhIWmF5SUYreWZzTWIvUFduVGRNUi9aV0lvNktMV2NkM1ZzaUZiTjZtR0pIZGcvdXZnSWVheFVPUQ0KbXl5NEkvSGdjU2k5UDdkSWVqZTFBbmVWdjdJd2tCZGhLb1BzNk5qVlRaaEVzZSttVXI5ODFBWk5JSFRrQ3pieQ0KY1RQdnR6YjlHcjB0WUo1aXc5YWRLbmdTOHkwZXE1OGpOd0tCd1FDMnd2SCs0b21nczI3aTVwWmRyUlljSHp2Qw0KZ3h4S2YxdXc4US8remd4SlkwRGt5d0dEQ2xJN0Jwc0ZYMWVrTjB3cDcyRk9xOHJMTXJIODNiVHZxZzR0TkN0MA0Kbkt4Um5HQUVrRWU3QXFkMEdIQm5vamZFSDdEVW5CMkZaVjYvWFZJNDhIL2JKREs2aE9hd0hibUpveU9QQ3NlTw0KcWE4b1ZhNWVKRVpaaDdzTHpzQ3ZtR0g1cCsybEpBOFdKa3hEM0NsekZRUEp4TXFZeUoyS2pndWVpdEszRzRVdg0KSlF6Mk5id292SHZZNkxOTHVUR0owMnFHN0cyU29xR2kzTDRyUWxNQ2djQW9JVzNXdkEzS2tjZ0NZODdIUGR3SA0KQldVMis3ZEtoNnBuR0lUWTVoblRvYlR0NGIvYVFCWVZZYTFuZVlGMUVzVlZXZHQzenFwMjlwRVNWTjNoMWhvVg0KdW9ET0pVL3pISm1ySTA2RzZVV2w2MzlMaDhWVUlxWWZtN0ZhbkxZYklFYzZKdzVQd1BuS1Y5aCtUZzZTV1UvbA0KbWUvb1dTRFh6S3RwOU9GY3VIbUJrNGdQV3VpUk1sYlBhaXZZTlpGd25NZTZFVVNZOStFQXo2alo3bDl2NVdjMw0KNjJvYXpLU09jT3I5V0Q4M1JGMVF1ckxYOWlnNnJ3YWhleFMvZDh4c2ZaY0NnY0JFYWlPV3k0ekRtSWZZN29LNQ0KWEhMYllpSEh4YmJRZUc2RmhTZjh0WHRKK1pxd1N3SXM0Szg1bzFaaW8zYzJaUERnL2RoS1QrcmhPQUFDN2FldQ0KMDlUc3ZRdkxZbDdyU2dOemtlTVlNWDBuNjRJZ2VVd3c0Y0FiUnJtU1Z3a3B6N0JZMmtheWJSR0VXdjNVVGJ4SA0KdHNjMzQ4d2lMb2tBSzFyVHFQYWd5enVNeHYvQWUrV3BSR0Nrb2lQM29heUk5cUNaa1BOVEU1VFhycm15eFV1Ng0KTkxOK2toSEFQVGxsN1dXYlJqdUNUbEhYOWVLQ2VwNzFGUXBMaXcvQTNLdGZuRHNDZ2NCU2V0OVFuNkhkTVh6Rg0KS2ZaUGdaS0FPQzR3dWIreEdPc1NnMm84bTY3V2VzdzFkWmpDamtDQ0kybWRjb0g3YjBoNld0bmRDcUZKd284Tw0KaTRzWE9jWGp1L2h6WmxIQXI1bWxVRW11dFAvditEcUFPZmpIUzR0WlVLZ3BpNmphZmxNTGNpbXBwRTd4UUFkbg0KZHJlZFMwN2wyU0FXOUlhdWRBQ3pRdFJEd1lBejZaQndFb0VWbm1ib1I4d2ZzRE5IYUhTWllQbDBOUnMvNDBvVw0KS0YrREpCVlRBMk9pWlNvN3NNaWFVN0g4V09FSlNjbm5QQUo1Y0xlNjB0azEyTlVIQ0lNPQ0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0NCg=="
        public_ip: "168.63.41.243"
        role: "master"
        node_type: "t2.micro"
        host_name: "vm0"
    compute_1:
      properties:
        disk_size: "10000 MB"
        mem_size: "1000 MB"
        num_cores: 1.0
        os_distro: Ubuntu
        os_version: 18.04
        user_name: "vm_user"
      interfaces:
        Standard:
          create: "dumy.yaml"
      type: "tosca.nodes.QC.VM.Compute"
      attributes:
        user_key_pair:
          protocol: "ssh"
          keys:
            public_key: "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FDUkM3QVBBZHN0NlpMeE9XSUQ5dE83cXlRYnVKMm04OVQ2akhpbDlJaWdqSEdLaEE0SkpkRmpKZ3FBbWVwZXMvZXRaZVBLODM5aExtVXlnT0ZrWEMwT2oxR0RSekY4SUpWUStZMlcwaHllOFA0SWFpelZwWFNTNXJVaHIxS2prcU51SitEZGwzNE5vazNNRnRXTVQ3cTh4MnNOaERETDNiTUw5eTY0RGJCTDB4aUJ2Y2dLdGNHODVZamxBclFXTDlVd01JaC94aVlkRUxDVUZqV3BFYkNxUnRFVjF0RFFta1J2TTVxSmZTaEFHTERRb01RT21tK1ZXSC9VSitWOERmYmJFNFhZdXNxMXZsa3BicDhKdzdTc29vYmtZVDJEaUhsMlFFa0VLSThEZkNpNmtLS3lDd3ZuMHRCcWRDS1BCWWEveWY1RVVhbnJoc1VSc0JMWUcrRDJUd3VoWXBEcmEzVHUxSm1NSm5DNHc0UFZZSmlBbmFSR1BSdzErT0ZrUWxWNkZ4RXBpVlFudDgwTkhKL0tNdTMrSnhXZG8yWWVVQUJwVlZRRldUY1o0MTBiNE5NSUhjUS9GVGpCcUxRZ0U3TkRuazVUcnhGaTN5NGY1Tk1YeUU3elpCMXBJM2dCcDVPUUpqdU9iNXI2Z0ViTHRPTXlCTGJZVXFLS1VtZnBtTlU9Cg=="
            private_key: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQ0KTUlJRzRnSUJBQUtDQVlFQWtRdXdEd0hiTGVtUzhUbGlBL2JUdTZza0c3aWRwdlBVK294NHBmU0lvSXh4aW9RTw0KQ1NYUll5WUtnSm5xWHJQM3JXWGp5dk4vWVM1bE1vRGhaRnd0RG85UmcwY3hmQ0NWVVBtTmx0SWNudkQrQ0dvcw0KMWFWMGt1YTFJYTlTbzVLamJpZmczWmQrRGFKTnpCYlZqRSs2dk1kckRZUXd5OTJ6Qy9jdXVBMndTOU1ZZ2IzSQ0KQ3JYQnZPV0k1UUswRmkvVk1EQ0lmOFltSFJDd2xCWTFxUkd3cWtiUkZkYlEwSnBFYnpPYWlYMG9RQml3MEtERQ0KRHBwdmxWaC8xQ2ZsZkEzMjJ4T0YyTHJLdGI1WktXNmZDY08wcktLRzVHRTlnNGg1ZGtCSkJDaVBBM3dvdXBDaQ0Kc2dzTDU5TFFhblFpandXR3Y4bitSRkdwNjRiRkViQVMyQnZnOWs4TG9XS1E2MnQwN3RTWmpDWnd1TU9EMVdDWQ0KZ0oya1JqMGNOZmpoWkVKVmVoY1JLWWxVSjdmTkRSeWZ5akx0L2ljVm5hTm1IbEFBYVZWVUJWazNHZU5kRytEVA0KQ0IzRVB4VTR3YWkwSUJPelE1NU9VNjhSWXQ4dUgrVFRGOGhPODJRZGFTTjRBYWVUa0NZN2ptK2Erb0JHeTdUag0KTWdTMjJGS2lpbEpuNlpqVkFnTUJBQUVDZ2dHQUE3L2Z3OERpWFJ2NkpVdm5TWlNkREVTKzBMYWppMWduUzg0Zw0KejZMSmUyT3JZR1RNaGhaWkJOZjJ2VFNvREloWXkraU9qSEJoL1JoT3htWklMVk45V0xDQ0doalhqSGxuMHI3ag0KYkVyWjNEbFNTbjVsZlUrNGVwUmJOSzAzRk5mQUZpTm9HbzBGZ0Zoa2xzbzAvVnBtOHpxeEo1bDJETXh2aWZkNw0KQTRnRnVZSzhwMGRKZjJRTHg1UjVjYU54d0t4bzRFVGVQOHRXc0k2b3VlaWZFaWxORTFjZSt1ZTI0SVdmRDVtRg0KRWxra0ZyckNBTFZVakNUQzQxaWYwLzRFczljYWlMenBDRjVUSW9MQWZ3dFFSbjdYOHNNbUZCV1ZMU3BIQnBlMw0KVGZCdXRhd1dSc2tPM2s0RlBYVVVDMkpMTnQwbHhXMUQ5V25qU0djLy9DQmErTnRrKzVYMUc4MmpEQVJWbW5NTQ0KaDMxUnlpbGRneUh4MXE2enlWTCs3RTJpVm05OEMwOXJqb3lNSGdOY0EzK2hNRFhCNjNtY1plRDI4amFZWXhvNw0KYWQxSTBQMUNxTUtBZ044SVBOWjNJQVQveFJkZVFhUG9tZTdNWGFvcXVCd2Vld1RNeWJuS25WT2RZWks2TTNUTA0KK1JWdjI2NVpCSmIzR1dlN1lwNVU1MW5EV2s3TEFvSEJBTXNya055OHdKYzgreFJFU2k0L3RDZ2lRYlFLQXhjRQ0KdEpIWXBRbnRNQWZTY242b3BPNS9Qc2MzN0JhdVp5bTJTSUJLWDdXR3ZUV04wRy9QNkxmQ0QySGlCN20zOERBRw0KNWNDSjFQakhIWmF5SUYreWZzTWIvUFduVGRNUi9aV0lvNktMV2NkM1ZzaUZiTjZtR0pIZGcvdXZnSWVheFVPUQ0KbXl5NEkvSGdjU2k5UDdkSWVqZTFBbmVWdjdJd2tCZGhLb1BzNk5qVlRaaEVzZSttVXI5ODFBWk5JSFRrQ3pieQ0KY1RQdnR6YjlHcjB0WUo1aXc5YWRLbmdTOHkwZXE1OGpOd0tCd1FDMnd2SCs0b21nczI3aTVwWmRyUlljSHp2Qw0KZ3h4S2YxdXc4US8remd4SlkwRGt5d0dEQ2xJN0Jwc0ZYMWVrTjB3cDcyRk9xOHJMTXJIODNiVHZxZzR0TkN0MA0Kbkt4Um5HQUVrRWU3QXFkMEdIQm5vamZFSDdEVW5CMkZaVjYvWFZJNDhIL2JKREs2aE9hd0hibUpveU9QQ3NlTw0KcWE4b1ZhNWVKRVpaaDdzTHpzQ3ZtR0g1cCsybEpBOFdKa3hEM0NsekZRUEp4TXFZeUoyS2pndWVpdEszRzRVdg0KSlF6Mk5id292SHZZNkxOTHVUR0owMnFHN0cyU29xR2kzTDRyUWxNQ2djQW9JVzNXdkEzS2tjZ0NZODdIUGR3SA0KQldVMis3ZEtoNnBuR0lUWTVoblRvYlR0NGIvYVFCWVZZYTFuZVlGMUVzVlZXZHQzenFwMjlwRVNWTjNoMWhvVg0KdW9ET0pVL3pISm1ySTA2RzZVV2w2MzlMaDhWVUlxWWZtN0ZhbkxZYklFYzZKdzVQd1BuS1Y5aCtUZzZTV1UvbA0KbWUvb1dTRFh6S3RwOU9GY3VIbUJrNGdQV3VpUk1sYlBhaXZZTlpGd25NZTZFVVNZOStFQXo2alo3bDl2NVdjMw0KNjJvYXpLU09jT3I5V0Q4M1JGMVF1ckxYOWlnNnJ3YWhleFMvZDh4c2ZaY0NnY0JFYWlPV3k0ekRtSWZZN29LNQ0KWEhMYllpSEh4YmJRZUc2RmhTZjh0WHRKK1pxd1N3SXM0Szg1bzFaaW8zYzJaUERnL2RoS1QrcmhPQUFDN2FldQ0KMDlUc3ZRdkxZbDdyU2dOemtlTVlNWDBuNjRJZ2VVd3c0Y0FiUnJtU1Z3a3B6N0JZMmtheWJSR0VXdjNVVGJ4SA0KdHNjMzQ4d2lMb2tBSzFyVHFQYWd5enVNeHYvQWUrV3BSR0Nrb2lQM29heUk5cUNaa1BOVEU1VFhycm15eFV1Ng0KTkxOK2toSEFQVGxsN1dXYlJqdUNUbEhYOWVLQ2VwNzFGUXBMaXcvQTNLdGZuRHNDZ2NCU2V0OVFuNkhkTVh6Rg0KS2ZaUGdaS0FPQzR3dWIreEdPc1NnMm84bTY3V2VzdzFkWmpDamtDQ0kybWRjb0g3YjBoNld0bmRDcUZKd284Tw0KaTRzWE9jWGp1L2h6WmxIQXI1bWxVRW11dFAvditEcUFPZmpIUzR0WlVLZ3BpNmphZmxNTGNpbXBwRTd4UUFkbg0KZHJlZFMwN2wyU0FXOUlhdWRBQ3pRdFJEd1lBejZaQndFb0VWbm1ib1I4d2ZzRE5IYUhTWllQbDBOUnMvNDBvVw0KS0YrREpCVlRBMk9pWlNvN3NNaWFVN0g4V09FSlNjbm5QQUo1Y0xlNjB0azEyTlVIQ0lNPQ0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0NCg=="
        public_ip: "65.52.228.174"
        role: "worker"
        node_type: "t2.micro"
        host_name: "vm1"
    kubernetes:
      requirements:
      - host:
          capability: "tosca.capabilities.QC.VM.topology"
          node: "topology"
          relationship: "tosca.relationships.HostedOn"
      type: "tosca.nodes.QC.docker.Orchestrator.Kubernetes"
    topology:
      properties:
        domain: "Ireland"
        provider: "Azure"
      requirements:
      - vm:
          capability: "tosca.capabilities.QC.VM"
          node: "compute"
          relationship: "tosca.relationships.DependsOn"
      - vm:
          capability: "tosca.capabilities.QC.VM"
          node: "compute_1"
          relationship: "tosca.relationships.DependsOn"
      type: "tosca.nodes.QC.VM.topology"
      attributes:
        credentials:
          cloud_provider_name: "Azure"
          keys:
            aws_access_key_id: "XXXXXXXXXXXXXXXXX"
          token: "XXXXXXXXXXXXXXXXx"
          token_type: "access_key"
        desired_state: "RUNNING"
        current_state: "RUNNING"
description: "k8s topology for deploying FAIR-Cells containers"
imports:
- nodes: "https://raw.githubusercontent.com/qcdis-sdia/sdia-tosca/master/types/nodes.yaml"
- data: "https://raw.githubusercontent.com/qcdis-sdia/sdia-tosca/master/types/data.yml"
- capabilities: "https://raw.githubusercontent.com/qcdis-sdia/sdia-tosca/master/types/capabilities.yaml"
- policies: "https://raw.githubusercontent.com/qcdis-sdia/sdia-tosca/master/types/policies.yaml"
- interfaces: "https://raw.githubusercontent.com/qcdis-sdia/sdia-tosca/master/types/interfaces.yml"
